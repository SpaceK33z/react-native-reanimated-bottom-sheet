{"version":3,"sources":["index.tsx"],"names":["React","Dimensions","Platform","View","Animated","PanGestureHandler","TapGestureHandler","State","GestureState","get","screenHeight","height","P","android","ios","OS","magic","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","deceleration","bouncyFactor","velocityFactor","toss","coefForTranslatingVelocities","set","cond","onChange","block","eq","greaterOrEq","sqrt","not","defined","max","add","and","Value","spring","or","divide","greaterThan","sub","event","diff","multiply","clockRunning","startClock","stopClock","decay","Clock","lessThan","runDecay","clock","value","velocity","wasStartedFromBegin","state","finished","position","time","config","withPreservingAdditiveOffset","drag","prev","valWithPreservedOffset","BEGAN","withDecaying","decayClock","prevent","valDecayed","offset","END","ACTIVE","BottomSheetBehavior","props","panState","tapState","panMasterState","masterVelocity","isManuallySetValue","manuallySetValue","masterClockForOverscroll","preventDecaying","dragMasterY","dragY","handleMasterPan","nativeEvent","translationY","velocityY","handlePan","enabledInnerScrolling","handleTap","snapTo","index","enabledImperativeSnapping","setValue","snapPoints","propsToNewIndices","handleLayoutHeader","heightOfHeader","layout","heightOfHeaderAnimated","setState","handleFullHeader","handleLayoutContent","heightOfContent","initSnap","panRef","innerGestureHandlerRefs","master","tapRef","getDerivedStateFromProps","undefined","init","middlesOfSnapPoints","i","length","push","masterOffseted","tossForMaster","springConfig","hasOwnProperty","destinationPoint","currentSnapPoint","snapPoint","masterClock","prevMasterDrag","wasRun","translateMaster","runSpring","overdragResistanceFactor","Y","withEnhancedLimits","dest","isManuallySet","toValue","val","wasRunMaster","min","limitedVal","diffPres","flagWasRunSpring","justEndedIfEnded","wasEndedMasterAfterInner","prevMaster","prevState","rev","width","zIndex","opacity","transform","translateY","enabledGestureInteraction","enabledHeaderGestureInteraction","simultaneousHandlers","renderHeader","overflow","enabledContentGestureInteraction","renderContent","callbackNode","contentPosition","headerPosition","sortedPropsSnapPints","map","s","ind","renumber","Error","sort","a","b","forEach","p","initialSnap","Component","defaultProps","createRef","str","Number","split"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport { Dimensions, Platform, View, LayoutChangeEvent } from 'react-native'\nimport Animated from 'react-native-reanimated'\nimport {\n  PanGestureHandler,\n  TapGestureHandler,\n  State as GestureState,\n} from 'react-native-gesture-handler'\n\ntype Props = {\n  /**\n   * Points for snapping of bottom sheet component. They define distance from bottom of the screen.\n   * Might be number or percent (as string e.g. '20%') for points or percents of screen height from bottom.\n   */\n  snapPoints: (number | string)[]\n\n  /**\n   * Determines initial snap point of bottom sheet. Defaults to 0.\n   */\n  initialSnap: number\n\n  /**\n   * Method for rendering scrollable content of bottom sheet.\n   */\n  renderContent?: () => React.ReactNode\n\n  /**\n   * Method for rendering non-scrollable header of bottom sheet.\n   */\n  renderHeader?: () => React.ReactNode\n\n  /**\n   * Defines if bottom sheet could be scrollable by gesture. Defaults to true.\n   */\n  enabledGestureInteraction?: boolean\n  enabledHeaderGestureInteraction?: boolean\n  enabledContentGestureInteraction?: boolean\n  /**\n   * If false blocks snapping using snapTo method. Defaults to true.\n   */\n  enabledManualSnapping?: boolean\n\n  /**\n   * Defines whether it's possible to scroll inner content of bottom sheet. Defaults to true.\n   */\n  enabledInnerScrolling?: boolean\n\n  /**\n   * Reanimated node which holds position of bottom sheet, where 1 it the highest snap point and 0 is the lowest.\n   */\n  callbackNode?: Animated.Value<number>\n\n  /**\n   * Reanimated node which holds position of bottom sheet;s content (in dp).\n   */\n  contentPosition?: Animated.Value<number>\n\n  /**\n   * Reanimated node which holds position of bottom sheet's header (in dp).\n   */\n  headerPosition?: Animated.Value<number>\n\n  /**\n   * Defines how violently sheet has to stopped while overdragging. 0 means no overdrag. Defaults to 0.\n   */\n  overdragResistanceFactor: number\n\n  /**\n   * Array of Refs passed to gesture handlers for simultaneous event handling\n   */\n  simultaneousHandlers?: Array<React.RefObject<any>> | React.RefObject<any>\n\n  /**\n   * Overrides config for spring animation\n   */\n  springConfig: {\n    damping?: number\n    mass?: number\n    stiffness?: number\n    restSpeedThreshold?: number\n    restDisplacementThreshold?: number\n    toss?: number\n  }\n\n  /**\n   * Refs for gesture handlers used for building bottomsheet\n   */\n  innerGestureHandlerRefs: [\n    React.RefObject<PanGestureHandler>,\n    React.RefObject<PanGestureHandler>,\n    React.RefObject<TapGestureHandler>\n  ]\n\n  enabledImperativeSnapping?: boolean\n}\n\ntype State = {\n  snapPoints: Animated.Value<number>[]\n  init: any\n  initSnap: number\n  propsToNewIndices: { [key: string]: number }\n  heightOfContent: Animated.Value<number>\n  heightOfHeader: number\n  heightOfHeaderAnimated: Animated.Value<number>\n}\n\nconst { height: screenHeight } = Dimensions.get('window')\n\nconst P = <T extends any>(android: T, ios: T): T =>\n  Platform.OS === 'ios' ? ios : android\n\nconst magic = {\n  damping: 50,\n  mass: 0.3,\n  stiffness: 121.6,\n  overshootClamping: true,\n  restSpeedThreshold: 0.3,\n  restDisplacementThreshold: 0.3,\n  deceleration: 0.999,\n  bouncyFactor: 1,\n  velocityFactor: P(1, 0.8),\n  toss: 0.4,\n  coefForTranslatingVelocities: 5,\n}\n\nconst {\n  damping,\n  mass,\n  stiffness,\n  overshootClamping,\n  restSpeedThreshold,\n  restDisplacementThreshold,\n  deceleration,\n  velocityFactor,\n  toss,\n} = magic\n\nconst {\n  set,\n  cond,\n  onChange,\n  block,\n  eq,\n  greaterOrEq,\n  sqrt,\n  not,\n  defined,\n  max,\n  add,\n  and,\n  Value,\n  spring,\n  or,\n  divide,\n  greaterThan,\n  sub,\n  event,\n  diff,\n  multiply,\n  clockRunning,\n  startClock,\n  stopClock,\n  decay,\n  Clock,\n  lessThan,\n} = Animated\n\nfunction runDecay(\n  clock: Animated.Clock,\n  value: Animated.Node<number>,\n  velocity: Animated.Node<number>,\n  wasStartedFromBegin: Animated.Value<number>\n) {\n  const state = {\n    finished: new Value(0),\n    velocity: new Value(0),\n    position: new Value(0),\n    time: new Value(0),\n  }\n\n  const config = { deceleration }\n\n  return [\n    cond(clockRunning(clock), 0, [\n      cond(wasStartedFromBegin, 0, [\n        set(wasStartedFromBegin, 1),\n        set(state.finished, 0),\n        set(state.velocity, multiply(velocity, velocityFactor)),\n        set(state.position, value),\n        set(state.time, 0),\n        startClock(clock),\n      ]),\n    ]),\n    cond(clockRunning(clock), decay(clock, state, config)),\n    cond(state.finished, stopClock(clock)),\n    state.position,\n  ]\n}\n\nfunction withPreservingAdditiveOffset(\n  drag: Animated.Node<number>,\n  state: Animated.Node<number>\n) {\n  const prev = new Value(0)\n  const valWithPreservedOffset = new Value(0)\n  return block([\n    cond(\n      eq(state, GestureState.BEGAN),\n      [set(prev, 0)],\n      [\n        set(\n          valWithPreservedOffset,\n          add(valWithPreservedOffset, sub(drag, prev))\n        ),\n        set(prev, drag),\n      ]\n    ),\n    valWithPreservedOffset,\n  ])\n}\n\nfunction withDecaying(\n  drag: Animated.Node<number>,\n  state: Animated.Node<number>,\n  decayClock: Animated.Clock,\n  velocity: Animated.Node<number>,\n  prevent: Animated.Value<number>\n) {\n  const valDecayed = new Value(0)\n  const offset = new Value(0)\n  // since there might be moar than one clock\n  const wasStartedFromBegin = new Value(0)\n  return block([\n    cond(\n      eq(state, GestureState.END),\n      [\n        cond(\n          prevent,\n          stopClock(decayClock),\n          set(\n            valDecayed,\n            runDecay(\n              decayClock,\n              add(drag, offset),\n              velocity,\n              wasStartedFromBegin\n            )\n          )\n        ),\n      ],\n      [\n        stopClock(decayClock),\n        cond(eq(state, GestureState.BEGAN), set(prevent, 0)),\n        cond(\n          or(eq(state, GestureState.BEGAN), eq(state, GestureState.ACTIVE)),\n          set(wasStartedFromBegin, 0)\n        ),\n        cond(eq(state, GestureState.BEGAN), [\n          set(offset, sub(valDecayed, drag)),\n        ]),\n        set(valDecayed, add(drag, offset)),\n      ]\n    ),\n    valDecayed,\n  ])\n}\n\nexport default class BottomSheetBehavior extends React.Component<Props, State> {\n  static defaultProps = {\n    overdragResistanceFactor: 0,\n    initialSnap: 0,\n    enabledImperativeSnapping: true,\n    enabledGestureInteraction: true,\n    enabledHeaderGestureInteraction: true,\n    enabledContentGestureInteraction: true,\n    enabledInnerScrolling: true,\n    springConfig: {},\n    innerGestureHandlerRefs: [\n      React.createRef(),\n      React.createRef(),\n      React.createRef(),\n    ],\n  }\n\n  private decayClock = new Clock()\n  private panState = new Value(0)\n  private tapState = new Value(0)\n  private velocity = new Value(0)\n  private panMasterState = new Value(GestureState.END)\n  private masterVelocity = new Value(0)\n  private isManuallySetValue: Animated.Value<number> = new Value(0)\n  private manuallySetValue = new Value(0)\n  private masterClockForOverscroll = new Clock()\n  private preventDecaying: Animated.Value<number> = new Value(0)\n  private dragMasterY = new Value(0)\n  private dragY = new Value(0)\n  private translateMaster: Animated.Node<number>\n  private panRef: React.RefObject<PanGestureHandler>\n  private master: React.RefObject<PanGestureHandler>\n  private tapRef: React.RefObject<TapGestureHandler>\n  private snapPoint: Animated.Node<number>\n  private Y: Animated.Node<number>\n\n  constructor(props: Props) {\n    super(props)\n\n    this.panRef = props.innerGestureHandlerRefs[0]\n    this.master = props.innerGestureHandlerRefs[1]\n    this.tapRef = props.innerGestureHandlerRefs[2]\n    this.state = BottomSheetBehavior.getDerivedStateFromProps(props, undefined)\n\n    const { snapPoints, init } = this.state\n    const middlesOfSnapPoints: Animated.Node<number>[] = []\n    for (let i = 1; i < snapPoints.length; i++) {\n      middlesOfSnapPoints.push(divide(add(snapPoints[i - 1], snapPoints[i]), 2))\n    }\n    const masterOffseted = new Value(init)\n    // destination point is a approximation of movement if finger released\n    const tossForMaster =\n      props.springConfig.hasOwnProperty('toss') &&\n      props.springConfig.toss != undefined\n        ? props.springConfig.toss\n        : toss\n    const destinationPoint = add(\n      masterOffseted,\n      multiply(tossForMaster, this.masterVelocity)\n    )\n    // method for generating condition for finding the nearest snap point\n    const currentSnapPoint = (i = 0): Animated.Node<number> =>\n      i + 1 === snapPoints.length\n        ? snapPoints[i]\n        : cond(\n            lessThan(destinationPoint, middlesOfSnapPoints[i]),\n            snapPoints[i],\n            currentSnapPoint(i + 1)\n          )\n    // current snap point desired\n    this.snapPoint = currentSnapPoint()\n\n    const masterClock = new Clock()\n    const prevMasterDrag = new Value(0)\n    const wasRun: Animated.Value<number> = new Value(0)\n    this.translateMaster = block([\n      cond(\n        eq(this.panMasterState, GestureState.END),\n        [\n          set(prevMasterDrag, 0),\n          cond(\n            or(clockRunning(masterClock), not(wasRun), this.isManuallySetValue),\n            [\n              cond(this.isManuallySetValue, stopClock(masterClock)),\n              set(\n                masterOffseted,\n                this.runSpring(\n                  masterClock,\n                  masterOffseted,\n                  this.masterVelocity,\n                  cond(\n                    this.isManuallySetValue,\n                    this.manuallySetValue,\n                    this.snapPoint\n                  ),\n                  wasRun,\n                  this.isManuallySetValue\n                )\n              ),\n              set(this.isManuallySetValue, 0),\n            ]\n          ),\n        ],\n        [\n          stopClock(masterClock),\n          set(this.preventDecaying, 1),\n          set(\n            masterOffseted,\n            add(masterOffseted, sub(this.dragMasterY, prevMasterDrag))\n          ),\n          set(prevMasterDrag, this.dragMasterY),\n          set(wasRun, 0), // not sure about this move for cond-began\n          cond(\n            eq(this.panMasterState, GestureState.BEGAN),\n            stopClock(this.masterClockForOverscroll)\n          ),\n        ]\n      ),\n      cond(\n        greaterThan(masterOffseted, snapPoints[0]),\n        masterOffseted,\n        max(\n          multiply(\n            sub(\n              snapPoints[0],\n              sqrt(add(1, sub(snapPoints[0], masterOffseted)))\n            ),\n            !props.enabledInnerScrolling ? props.overdragResistanceFactor : 0\n          ),\n          masterOffseted\n        )\n      ),\n    ])\n\n    this.Y = this.withEnhancedLimits(\n      withDecaying(\n        withPreservingAdditiveOffset(this.dragY, this.panState),\n        this.panState,\n        this.decayClock,\n        this.velocity,\n        this.preventDecaying\n      ),\n      masterOffseted\n    )\n  }\n\n  private runSpring(\n    clock: Animated.Clock,\n    value: Animated.Value<number>,\n    velocity: Animated.Node<number>,\n    dest: Animated.Node<number>,\n    wasRun: Animated.Value<number>,\n    isManuallySet: Animated.Node<number> | number = 0\n  ) {\n    const state = {\n      finished: new Value(0),\n      velocity: new Value(0),\n      position: new Value(0),\n      time: new Value(0),\n    }\n\n    const config = {\n      damping,\n      mass,\n      stiffness,\n      overshootClamping,\n      restSpeedThreshold,\n      restDisplacementThreshold,\n      toValue: new Value(0),\n      ...this.props.springConfig,\n    }\n\n    return [\n      cond(clockRunning(clock), 0, [\n        set(state.finished, 0),\n        set(state.velocity, velocity),\n        set(state.position, value),\n        set(config.toValue, dest),\n        cond(and(wasRun, not(isManuallySet)), 0, startClock(clock)),\n        cond(defined(wasRun), set(wasRun, 1)),\n      ]),\n      spring(clock, state, config),\n      cond(state.finished, stopClock(clock)),\n      state.position,\n    ]\n  }\n\n  private handleMasterPan = event([\n    {\n      nativeEvent: {\n        translationY: this.dragMasterY,\n        state: this.panMasterState,\n        velocityY: this.masterVelocity,\n      },\n    },\n  ])\n\n  private handlePan = event([\n    {\n      nativeEvent: {\n        translationY: this.props.enabledInnerScrolling\n          ? this.dragY\n          : this.dragMasterY,\n        state: this.props.enabledInnerScrolling\n          ? this.panState\n          : this.panMasterState,\n        velocityY: this.props.enabledInnerScrolling\n          ? this.velocity\n          : this.masterVelocity,\n      },\n    },\n  ])\n\n  private handleTap = event([{ nativeEvent: { state: this.tapState } }])\n\n  private withEnhancedLimits(\n    val: Animated.Node<number>,\n    masterOffseted: Animated.Value<number>\n  ) {\n    const wasRunMaster = new Value(0)\n    const min = multiply(\n      -1,\n      add(this.state.heightOfContent, this.state.heightOfHeaderAnimated)\n    )\n    const prev = new Value(0)\n    const limitedVal = new Value(0)\n    const diffPres = new Value(0)\n    const flagWasRunSpring = new Value(0)\n    const justEndedIfEnded = new Value(1)\n    const wasEndedMasterAfterInner = new Value(1)\n    const prevMaster = new Value(1)\n    const prevState = new Value(0)\n    const rev = new Value(0)\n\n    return block([\n      set(rev, limitedVal),\n      cond(\n        or(\n          eq(this.panState, GestureState.BEGAN),\n          and(\n            eq(this.panState, GestureState.ACTIVE),\n            eq(prevState, GestureState.END)\n          )\n        ),\n        [\n          set(prev, val),\n          set(flagWasRunSpring, 0),\n          stopClock(this.masterClockForOverscroll),\n          set(wasRunMaster, 0),\n        ],\n        [\n          set(limitedVal, add(limitedVal, sub(val, prev))),\n          cond(lessThan(limitedVal, min), set(limitedVal, min)),\n        ]\n      ),\n      set(prevState, this.panState), // on iOS sometimes BEGAN event does not trigger\n      set(diffPres, sub(prev, val)),\n      set(prev, val),\n      cond(\n        or(greaterOrEq(limitedVal, 0), greaterThan(masterOffseted, 0)),\n        [\n          cond(\n            eq(this.panState, GestureState.ACTIVE),\n            set(masterOffseted, sub(masterOffseted, diffPres))\n          ),\n          cond(greaterThan(masterOffseted, 0), [set(limitedVal, 0)]),\n          cond(\n            not(eq(this.panState, GestureState.END)),\n            set(justEndedIfEnded, 1)\n          ),\n          cond(\n            or(\n              eq(this.panState, GestureState.ACTIVE),\n              eq(this.panMasterState, GestureState.ACTIVE)\n            ),\n            set(wasEndedMasterAfterInner, 0)\n          ),\n          cond(\n            and(\n              eq(prevMaster, GestureState.ACTIVE),\n              eq(this.panMasterState, GestureState.END),\n              eq(this.panState, GestureState.END)\n            ),\n            set(wasEndedMasterAfterInner, 1)\n          ),\n          set(prevMaster, this.panMasterState),\n          cond(\n            and(\n              eq(this.panState, GestureState.END),\n              not(wasEndedMasterAfterInner),\n              not(eq(this.panMasterState, GestureState.ACTIVE)),\n              not(eq(this.panMasterState, GestureState.BEGAN)),\n              or(clockRunning(this.masterClockForOverscroll), not(wasRunMaster))\n            ),\n            [\n              // cond(justEndedIfEnded, set(this.masterVelocity, diff(val))),\n              set(\n                this.masterVelocity,\n                cond(justEndedIfEnded, diff(val), this.velocity)\n              ),\n              set(\n                masterOffseted,\n                this.runSpring(\n                  this.masterClockForOverscroll,\n                  masterOffseted,\n                  diff(val),\n                  this.snapPoint,\n                  wasRunMaster\n                )\n              ),\n              set(this.masterVelocity, 0),\n            ]\n          ),\n          //   cond(eq(this.panState, State.END), set(wasEndedMasterAfterInner, 0)),\n          cond(eq(this.panState, GestureState.END), set(justEndedIfEnded, 0)),\n          set(this.preventDecaying, 1),\n          0,\n        ],\n        [set(this.preventDecaying, 0), limitedVal]\n      ),\n    ])\n  }\n\n  snapTo = (index: number) => {\n    if (!this.props.enabledImperativeSnapping) {\n      return\n    }\n    this.manuallySetValue.setValue(\n      // @ts-ignore\n      this.state.snapPoints[this.state.propsToNewIndices[index]]\n    )\n    this.isManuallySetValue.setValue(1)\n  }\n\n  private height: Animated.Value<number> = new Value(0)\n\n  private handleLayoutHeader = ({\n    nativeEvent: {\n      layout: { height: heightOfHeader },\n    },\n  }: LayoutChangeEvent) => {\n    this.state.heightOfHeaderAnimated.setValue(heightOfHeader)\n    this.setState({ heightOfHeader })\n  }\n\n  private handleFullHeader = ({\n    nativeEvent: {\n      layout: { height },\n    },\n  }: LayoutChangeEvent) => this.height.setValue(height)\n\n  private handleLayoutContent = ({\n    nativeEvent: {\n      layout: { height },\n    },\n  }: LayoutChangeEvent) =>\n    this.state.heightOfContent.setValue(height - this.state.initSnap)\n\n  static renumber = (str: string) =>\n    (Number(str.split('%')[0]) * screenHeight) / 100\n\n  static getDerivedStateFromProps(\n    props: Props,\n    state: State | undefined\n  ): State {\n    let snapPoints\n    const sortedPropsSnapPints: Array<{\n      val: number\n      ind: number\n    }> = props.snapPoints\n      .map(\n        (\n          s: number | string,\n          i: number\n        ): {\n          val: number\n          ind: number\n        } => {\n          if (typeof s === 'number') {\n            return { val: s, ind: i }\n          } else if (typeof s === 'string') {\n            return { val: BottomSheetBehavior.renumber(s), ind: i }\n          }\n\n          throw new Error(`Invalid type for value ${s}: ${typeof s}`)\n        }\n      )\n      .sort(({ val: a }, { val: b }) => b - a)\n    if (state && state.snapPoints) {\n      state.snapPoints.forEach((s, i) =>\n        s.setValue(sortedPropsSnapPints[0].val - sortedPropsSnapPints[i].val)\n      )\n      snapPoints = state.snapPoints\n    } else {\n      snapPoints = sortedPropsSnapPints.map(\n        p => new Value(sortedPropsSnapPints[0].val - p.val)\n      )\n    }\n\n    const propsToNewIndices: { [key: string]: number } = {}\n    sortedPropsSnapPints.forEach(({ ind }, i) => (propsToNewIndices[ind] = i))\n\n    const { initialSnap } = props\n\n    return {\n      init:\n        sortedPropsSnapPints[0].val -\n        sortedPropsSnapPints[propsToNewIndices[initialSnap]].val,\n      propsToNewIndices,\n      heightOfHeaderAnimated:\n        (state && state.heightOfHeaderAnimated) || new Value(0),\n      heightOfContent: (state && state.heightOfContent) || new Value(0),\n      initSnap: sortedPropsSnapPints[0].val,\n      snapPoints,\n      heightOfHeader: (state && state.heightOfHeader) || 0,\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Animated.View\n          style={{\n            height: '100%',\n            width: 0,\n            position: 'absolute',\n          }}\n          onLayout={this.handleFullHeader}\n        />\n        <Animated.View\n          style={{\n            width: '100%',\n            position: 'absolute',\n            zIndex: 100,\n            opacity: cond(this.height, 1, 0),\n            transform: [\n              {\n                translateY: this.translateMaster,\n              },\n              {\n                translateY: sub(this.height, this.state.initSnap) as any,\n              },\n            ],\n          }}\n        >\n          <PanGestureHandler\n            enabled={this.props.enabledGestureInteraction && this.props.enabledHeaderGestureInteraction}\n            ref={this.master}\n            waitFor={this.panRef}\n            onGestureEvent={this.handleMasterPan}\n            onHandlerStateChange={this.handleMasterPan}\n            simultaneousHandlers={this.props.simultaneousHandlers}\n          >\n            <Animated.View\n              style={{\n                zIndex: 101,\n              }}\n              onLayout={this.handleLayoutHeader}\n            >\n              {this.props.renderHeader && this.props.renderHeader()}\n            </Animated.View>\n          </PanGestureHandler>\n          <View\n            style={\n              this.props.enabledInnerScrolling && {\n                height: this.state.initSnap - this.state.heightOfHeader,\n                overflow: 'hidden',\n              }\n            }\n          >\n            <PanGestureHandler\n              enabled={this.props.enabledGestureInteraction && this.props.enabledContentGestureInteraction}\n              waitFor={this.master}\n              ref={this.panRef}\n              onGestureEvent={this.handlePan}\n              onHandlerStateChange={this.handlePan}\n              simultaneousHandlers={this.props.simultaneousHandlers}\n            >\n              <Animated.View>\n                <TapGestureHandler\n                  ref={this.tapRef}\n                  enabled={this.props.enabledGestureInteraction && this.props.enabledContentGestureInteraction}\n                  onHandlerStateChange={this.handleTap}\n                  simultaneousHandlers={this.props.simultaneousHandlers}\n                >\n                  <Animated.View\n                    style={{\n                      width: '100%',\n                      transform: [{ translateY: this.Y as any }],\n                    }}\n                    onLayout={this.handleLayoutContent}\n                  >\n                    {this.props.renderContent && this.props.renderContent()}\n                  </Animated.View>\n                </TapGestureHandler>\n              </Animated.View>\n            </PanGestureHandler>\n            <Animated.Code\n              exec={onChange(\n                this.tapState,\n                cond(\n                  eq(this.tapState, GestureState.BEGAN),\n                  stopClock(this.decayClock)\n                )\n              )}\n            />\n            {this.props.callbackNode && (\n              <Animated.Code\n                exec={onChange(\n                  this.translateMaster,\n                  set(\n                    this.props.callbackNode,\n                    divide(\n                      this.translateMaster,\n                      this.state.snapPoints[this.state.snapPoints.length - 1]\n                    )\n                  )\n                )}\n              />\n            )}\n            {this.props.contentPosition && (\n              <Animated.Code\n                exec={onChange(\n                  this.Y,\n                  set(this.props.contentPosition, sub(0, this.Y))\n                )}\n              />\n            )}\n            {this.props.headerPosition && (\n              <Animated.Code\n                exec={onChange(\n                  this.translateMaster,\n                  set(this.props.headerPosition, this.translateMaster)\n                )}\n              />\n            )}\n          </View>\n        </Animated.View>\n      </React.Fragment>\n    )\n  }\n}\n"]}